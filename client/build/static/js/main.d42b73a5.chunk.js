(this.webpackJsonpnoticely=this.webpackJsonpnoticely||[]).push([[0],{133:function(e,t){},134:function(e,t,n){"use strict";n(4)},135:function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return E}));var a=n(12),r=n.n(a),l=n(28),c=n(15),o=n.n(c),i=n(35),s=n(4),u=function(e,t,n){return function(){var a=Object(l.a)(r.a.mark((function a(l){var c,u;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return l({type:s.a.USER.REGISTER_USER}),a.prev=1,a.next=4,o.a.post("/graphql",JSON.stringify({query:'\n            mutation {\n              registerUser(userInput: {name: "'.concat(e,'", email: "').concat(t,'", password: "').concat(n,'"}) {\n                _id\n                name,\n                email,\n                token\n              }\n            }\n          ')}));case 4:c=a.sent,u=c.data.data.registerUser,l({type:s.a.USER.REGISTER_USER_SUCCESS,payload:u}),i.a.setSession(u.token),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),l({type:s.a.USER.REGISTER_USER_FAIL,payload:a.t0.response.data.errors});case 13:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e){return a.apply(this,arguments)}}()},m=function(){return function(){var e=Object(l.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:s.a.USER.LOGIN_USER}),e.prev=1,e.next=4,o.a.post("/graphql",JSON.stringify({query:"\n          query {\n            getUserInfo {\n              _id\n              name,\n              email,\n              token\n            }\n          }\n        "}));case 4:n=e.sent,a=n.data.data.getUserInfo,t({type:s.a.USER.LOGIN_USER_SUCCESS,payload:a}),i.a.setSession(a.token),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t({type:s.a.USER.LOGIN_USER_FAIL,payload:e.t0.response.data.errors});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},d=function(e,t){return function(){var n=Object(l.a)(r.a.mark((function n(a){var l,c;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:s.a.USER.LOGIN_USER}),n.prev=1,n.next=4,o.a.post("/graphql",JSON.stringify({query:'\n          query {\n            loginUser(loginInput: {email: "'.concat(e,'", password: "').concat(t,'"}) {\n              _id\n              name,\n              email,\n              token\n            }\n          }\n        ')}));case 4:l=n.sent,c=l.data.data.loginUser,a({type:s.a.USER.LOGIN_USER_SUCCESS,payload:c}),i.a.setSession(c.token),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(1),console.log("error",n.t0.response),a({type:s.a.USER.LOGIN_USER_FAIL,payload:n.t0.response.data.errors});case 14:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(e){return n.apply(this,arguments)}}()},E=function(){return i.a.clearSession(),{type:s.a.USER.LOGOUT_USER}}},136:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return m})),n.d(t,"a",(function(){return d}));var a=n(12),r=n.n(a),l=n(28),c=n(4),o=n(15),i=n.n(o),s=function(e){return{type:c.a.LOCATION.SET_IP_LOCATION,payload:e}},u=function(e){return{type:c.a.LOCATION.SET_VALID_PLACE,payload:e}},m=function(e){return{type:c.a.LOCATION.SET_SELECTED_PLACE,payload:e}},d=function(){return function(){var e=Object(l.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:c.a.LOCATION.GET_PLACES}),e.prev=1,e.next=4,i.a.post("/graphql",JSON.stringify({query:"\n                        query {\n                            getPlaces {\n                                _id\n                                place_id\n                                name\n                                formattedAddress\n                                latlng {\n                                    lat\n                                    lng\n                                }\n                            }\n                        } \n                    "}));case 4:n=e.sent,a=n.data.data.getPlaces,t({type:c.a.LOCATION.GET_PLACES_SUCCESS,payload:a}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t({type:c.a.LOCATION.GET_PLACES_ERROR,payload:e.t0.response.data.errors});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()}},207:function(e,t,n){e.exports=n(449)},35:function(e,t,n){"use strict";var a=n(15),r=n.n(a),l=function(){var e=window.localStorage.getItem("jwt");return r.a.defaults.headers.common.Authorization="Bearer ".concat(e),r.a.defaults.headers.post["Content-Type"]="application/json",e};l(),t.a={setSession:function(e){window.localStorage.setItem("jwt",e),r.a.defaults.headers.common.Authorization="Bearer ".concat(e),r.a.defaults.headers.post["Content-Type"]="application/json"},getSession:l,clearSession:function(){window.localStorage.removeItem("jwt"),r.a.defaults.headers.common.Authorization=""}}},4:function(e,t,n){"use strict";var a={ADD_DUMMY:"ADD_DUMMY"},r={REGISTER_USER:"REGISTER_USER",REGISTER_USER_SUCCESS:"REGISTER_USER_SUCCESS",REGISTER_USER_FAIL:"REGISTER_USER_FAIL",LOGIN_USER:"LOGIN_USER",LOGIN_USER_SUCCESS:"LOGIN_USER_SUCCESS",LOGIN_USER_FAIL:"LOGIN_USER_FAIL",LOGOUT_USER:"LOGOUT_USER"},l={SET_IP_LOCATION:"SET_IP_LOCATION",SET_VALID_PLACE:"SET_VALID_PLACE",SET_SELECTED_PLACE:"SET_SELECTED_PLACE",GET_PLACES:"GET_PLACES",GET_PLACES_SUCCESS:"GET_PLACES_SUCCESS",GET_PLACES_ERROR:"GET_PLACES_ERROR"},c={OPEN_FLYER_PANE:"OPEN_FLYER_PANE",SET_FLYER_MADE:"SET_FLYER_MADE",SET_MAKING_FLYER:"SET_MAKING_FLYER",SET_MAKING_FLYER_SUCCESS:"SET_MAKING_FLYER_SUCCESS",SET_MAKING_FLYER_FAIL:"SET_MAKING_FLYER_FAIL",SET_FLYERS:"SET_FLYERS",SET_FLYERS_SUCCESS:"SET_FLYERS_SUCCESS",SET_FLYERS_FAIL:"SET_FLYERS_FAIL",SET_SELECTED_FLYER:"SET_SELECTED_FLYER",SET_WISH_TO_DELETE_FLYER:"SET_WISH_TO_DELETE_FLYER",SET_DELETING_FLYER:"SET_DELETING_FLYER",SET_DELETING_FLYER_SUCCESS:"SET_DELETING_FLYER_SUCCESS",SET_DELETING_FLYER_FAIL:"SET_DELETING_FLYER_FAIL"};t.a={DUMMY:a,USER:r,LOCATION:l,FLYER:c}},436:function(e,t,n){},449:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(31),c=n.n(l),o=n(10),i=n(14),s=n(35),u=n(22);function m(){var e=Object(u.a)(["\n  html {\n    height: 100%;\n    /*background-color: red;*/\n  }\n  * {\n    padding: 0;\n    margin: 0;\n  }\n\n  /*Button colors override  */\n  .btn-primary {\n    background-color: #4CAD98;\n    border-color: #4CAD98;\n  }\n  .btn-primary:hover {\n    backgrond-color: #61FAD9;\n  }\n\n  .btn-secondary {\n    background-color: #61FAD9;\n    border-color: #61FAD9;\n  }\n\n  .link {\n    cursor: pointer;\n    color: #2A3DAD;\n  }\n\n  .slide-pane__header {\n    background: #4863FA;\n    color: #ffffff;\n  }\n\n  // Animations\n  @keyframes blueToLightBlue {\n    0% {\n      border-top-color: #FAB156\n    }\n\n    50% {\n      border-top-color: #4863FA\n    }\n\n    100% {\n      border-top-color: #FAB156\n    }\n  }\n"]);return m=function(){return e},e}var d=Object(i.b)(m()),E=(n(232),n(116)),p=n(13),f=n(9),g=n(8),y=n(455),h=n(456),S=n(457),b=n(458),_=n(459),O=n(460),F=n(461),L=n(462),v=n(453),j=n(3),R=n(465),I=n(450),T=n(451),C=n(452),P=n(454);function x(){var e=Object(u.a)(["\n  display: flex;\n\n  .CheckBoxItem {\n    display: inline-block;\n\n    .form-check-input {\n      width: 25px;\n      position: unset;\n      margin-top: unset;\n      margin-left: unset;\n    }\n  }\n"]);return x=function(){return e},e}function N(){var e=Object(u.a)(["\n  width: 100%;  \n  margin-bottom: 20px;\n\n  & label {\n    display: block;\n  }\n  & input {\n    width: 100%;\n  }\n  & .password-container {\n    position: relative;\n    &__show {\n      position: absolute;\n      right: 10px;\n      top: 6px;\n      color: ",";\n      cursor: pointer;\n    }\n  }\n"]);return N=function(){return e},e}function w(){var e=Object(u.a)(["\n  max-width: 600px;\n"]);return w=function(){return e},e}var U=i.c.section(w()),A=i.c.div(N(),(function(e){return e.theme.colors.green})),k=i.c.div(x()),Y=function(e){return e.trim().match(/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/)?"":"Not a Valid Email"},D=function(e){var t=e.indexOf(".");switch(e.slice(t+1,e.length)){case"png":case"PNG":return!0;case"jpg":case"JPG":return!0;case"jpeg":case"JPEG":return!0;case"gif":case"GIF":return!0;default:return!1}},G=Object(o.b)((function(e){return{user:e.user}}),{loginUser:f.loginUser})((function(e){var t=e.modal,n=e.toggleModal,l=e.changeModalType,c=e.loginUser,o=e.user,i=Object(a.useState)(""),s=Object(g.a)(i,2),u=s[0],m=s[1],d=Object(a.useState)(""),E=Object(g.a)(d,2),p=E[0],f=E[1],y=Object(a.useState)({email:""}),h=Object(g.a)(y,2),S=h[0],b=h[1],_=Object(a.useState)(!1),O=Object(g.a)(_,2),F=O[0],L=O[1];Object(a.useEffect)((function(){!1===o.loggingIn&&Object.keys(o.currentUser).length>0&&!0===t&&(console.log("called"),n())}),[o]);return r.a.createElement(R.a,{isOpen:t,toggle:n,className:"sign-in-modal"},r.a.createElement(I.a,null,o.loggingIn?r.a.createElement("p",null,"Loading ..."):r.a.createElement("h3",{className:"text-center"},"Login"),r.a.createElement(U,null,function(){if(o.errors)return o.errors.map((function(e){return r.a.createElement("p",{className:"text-danger"},e.message)}))}(),r.a.createElement("form",{onSubmit:function(e){var t=Object(j.a)({},S);for(var n in e.preventDefault(),t.email=Y(u),b(t),t)if(""!==t[n])return;c(u,p)}},r.a.createElement(A,null,S.email&&r.a.createElement("p",{className:"text-danger"},S.email),r.a.createElement(T.a,{for:"email"},"Email"),r.a.createElement(C.a,{type:"email",name:"email",placeholder:"you@example.com",value:u,onChange:function(e){return m(e.target.value)},required:!0})),r.a.createElement(A,null,r.a.createElement(T.a,{for:"password"},"Password"),r.a.createElement("div",{className:"password-container"},r.a.createElement(C.a,{type:F?"text":"password",name:"password",value:p,onChange:function(e){return f(e.target.value)},minLength:8,maxLength:20,required:!0}),r.a.createElement("span",{className:"password-container__show",onClick:function(){return L(!F)}},F?"Hide":"Show"))),r.a.createElement(v.a,{color:"primary",type:"submit",block:!0,disabled:!!o.loggingIn},o.loggingIn?r.a.createElement(P.a,{color:"light"}):"SignIn"))),r.a.createElement("div",{className:"switch-form text-center"},r.a.createElement("p",null,"Don't have an account?"," ",r.a.createElement("span",{onClick:function(){return l("register")},className:"link"},"Register")))))})),M=Object(o.b)((function(e){return{user:e.user}}),{registerUser:f.registerUser})((function(e){var t=e.modal,n=e.toggleModal,l=e.changeModalType,c=e.registerUser,o=e.user,i=Object(a.useState)(""),s=Object(g.a)(i,2),u=s[0],m=s[1],d=Object(a.useState)(""),E=Object(g.a)(d,2),p=E[0],f=E[1],y=Object(a.useState)(""),h=Object(g.a)(y,2),S=h[0],b=h[1],_=Object(a.useState)(""),O=Object(g.a)(_,2),F=O[0],L=O[1],x=Object(a.useState)({fullName:"",email:"",password:"",confirmPassword:""}),N=Object(g.a)(x,2),w=N[0],k=N[1],D=Object(a.useState)(!1),G=Object(g.a)(D,2),M=G[0],B=G[1];Object(a.useEffect)((function(){!1===o.registering&&Object.keys(o.currentUser).length>0&&!0===t&&n()}),[o]);return r.a.createElement(R.a,{isOpen:t,toggle:n,className:"sign-in-modal"},r.a.createElement(I.a,null,r.a.createElement("h3",{className:"text-center"},"Register"),r.a.createElement(U,null,function(){if(o.errors)return o.errors.map((function(e){return r.a.createElement("p",{className:"text-danger"},e.message)}))}(),r.a.createElement("form",{onSubmit:function(e){var t=Object(j.a)({},w);for(var n in e.preventDefault(),t.email=Y(p),t.confirmPassword=function(e,t){return e.trim()!==t.trim()?"Passwords do not match. Check your typing.":""}(S,F),k(t),t)if(""!==t[n])return;c(u,p,S)}},r.a.createElement(A,null,r.a.createElement(T.a,{for:"full_name"},"Name"),r.a.createElement(C.a,{type:"text",name:"full_name",placeholder:"Joe Smith",value:u,onChange:function(e){return m(e.target.value)},required:!0})),r.a.createElement(A,null,w.email&&r.a.createElement("p",{className:"text-danger"},w.email),r.a.createElement(T.a,{for:"email"},"Email"),r.a.createElement(C.a,{type:"email",name:"email",placeholder:"you@example.com",value:p,onChange:function(e){return f(e.target.value)},required:!0})),r.a.createElement(A,null,r.a.createElement(T.a,{for:"password"},"Password"),r.a.createElement("div",{className:"password-container"},r.a.createElement(C.a,{type:M?"text":"password",name:"password",value:S,onChange:function(e){return b(e.target.value)},minLength:8,maxLength:20,required:!0}),r.a.createElement("span",{className:"password-container__show",onClick:function(){return B(!M)}},M?"Hide":"Show"))),r.a.createElement(A,null,w.confirmPassword&&r.a.createElement("p",{className:"text-danger"},w.confirmPassword),r.a.createElement(T.a,{for:"confirm_password"},"Confirm Password"),r.a.createElement(C.a,{type:M?"text":"password",name:"confirm_password",value:F,onChange:function(e){return L(e.target.value)},minLength:8,maxLength:20,required:!0})),r.a.createElement(v.a,{color:"primary",type:"submit",block:!0,disabled:!!o.registering},o.registering?r.a.createElement(P.a,{color:"light"}):"Register"))),r.a.createElement("div",{className:"switch-form text-center"},r.a.createElement("p",null,"Already have an account?"," ",r.a.createElement("span",{onClick:function(){return l("signin")},className:"link"},"Signin")))))}));function B(){var e=Object(u.a)(["\n  .navbar {\n    background-color: ",";\n  }\n  & .navbar-brand {\n    color: ",";\n    font-size: 1.6rem;\n  }\n .navbar-light .navbar-nav .nav-item .nav-link {\n    color: "," !important;\n  }\n"]);return B=function(){return e},e}var q=i.c.div(B(),(function(e){return e.theme.colors.blue}),(function(e){return e.theme.colors.logo}),(function(e){return e.theme.colors.white})),W=Object(o.b)((function(e){return{user:e.user}}),{logoutUser:f.logoutUser})((function(e){var t=Object(a.useState)(!1),n=Object(g.a)(t,2),l=n[0],c=n[1],o=Object(a.useState)(!1),i=Object(g.a)(o,2),s=i[0],u=i[1],m=Object(a.useState)("signin"),d=Object(g.a)(m,2),E=d[0],p=d[1],f=function(){return u(!s)};return r.a.createElement(q,null,r.a.createElement(y.a,{light:!0,expand:"md"},r.a.createElement(h.a,{href:"/"},"Noticely"),r.a.createElement(S.a,{onClick:function(){return c(!l)}}),r.a.createElement(b.a,{isOpen:l,navbar:!0},r.a.createElement(_.a,{className:"mr-auto",navbar:!0},r.a.createElement(O.a,null,r.a.createElement(F.a,{href:"/"},"Home"))),r.a.createElement(L.a,null,Object.keys(e.user.currentUser).length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{color:"primary",onClick:function(){return e.logoutUser()}},"Logout")):r.a.createElement(v.a,{color:"primary",onClick:function(){return f()}},"Sign In"),"signin"===E?r.a.createElement(G,{modal:s,toggleModal:f,changeModalType:p}):r.a.createElement(M,{modal:s,toggleModal:f,changeModalType:p})))))}));function z(){var e=Object(u.a)(["\n\n    & .MapContainer {\n        \n    } \n\n    & .BtnControls {\n        display: flex;\n        justify-content: space-between;\n        align-items: baseline;\n        margin-bottom: 20px;\n        width: 100%;\n    }\n\n    & .about {\n        margin-top: 20px;\n        border: 1px solid #ccc;\n        padding: 1rem;\n        background-color: #eee;\n\n        li {\n            list-style: none;\n        }\n    }\n"]);return z=function(){return e},e}var V=i.c.section(z()),H=function(e){var t=e.children;return r.a.createElement(V,null,t)},J=n(199),K=n(200),Z=n.n(K),$=n(59),Q=n(61),X=n(202),ee=n.n(X),te=(n(436),function(){var e=window.innerWidth;return e>768?"50%":e<=768&&e>425?"70%":e<=425?"90%":void 0}),ne=function(e){return 0===Object.keys(e).length},ae=Object($.compose)(Object($.withProps)({googleMapURL:"https://maps.googleapis.com/maps/api/js?key=".concat("AIzaSyAGi7RR7Dtrk8CCZ-SkrLeP2Pr8bZfiyKA","&v=3&libraries=geometry,drawing,places"),loadingElement:r.a.createElement("div",{style:{height:"100%"}},r.a.createElement(P.a,{color:"success"})),containerElement:r.a.createElement("div",{style:{height:"400px"}}),mapElement:r.a.createElement("div",{style:{height:"100%"}})}),Object($.lifecycle)({componentWillMount:function(){var e=this,t={};this.setState({bounds:null,center:{lat:this.props.location.ipLocation.lat,lng:this.props.location.ipLocation.lng},markers:[],onMapMounted:function(e){t.map=e},onBoundsChanged:function(){e.setState({bounds:t.map.getBounds(),center:t.map.getCenter()})},onSearchBoxMounted:function(e){t.searchBox=e},onPlacesChanged:function(){var n=t.searchBox.getPlaces();if(console.log("places",n),re(n,e.props)){var a={placeId:n[0].place_id,formatted_address:n[0].formatted_address,name:n[0].name,latlng:{lat:n[0].geometry.location.lat(),lng:n[0].geometry.location.lng()}};e.props.setSelectedPlace(a),e.props.setOpenFlyerPane(!0);var r=new google.maps.LatLngBounds;n.forEach((function(e){e.geometry.viewport?r.union(e.geometry.viewport):r.extend(e.geometry.location)}));var l=n.map((function(e){return{position:e.geometry.location}})),c=Z.a.get(l,"0.position",e.state.center);console.log("markers",e.state.markers),console.log("nextmarkers",l),e.setState({center:c,markers:l})}}})},componentDidMount:function(){this.props.getPlaces()},componentDidUpdate:function(e,t){console.log("reched before"),null===e.location.selectedPlace||ne(e.location.selectedPlace)||null!==this.props.location.selectedPlace||(console.log("reached here"),this.setState({state:this.state}))}}),Q.withScriptjs,Q.withGoogleMap)((function(e){return r.a.createElement(Q.GoogleMap,{ref:e.onMapMounted,defaultZoom:12,defaultCenter:e.center,onBoundsChanged:e.onBoundsChanged,className:"Map"},r.a.createElement(ee.a,{ref:e.onSearchBoxMounted,bounds:e.bounds,controlPosition:2,onPlacesChanged:e.onPlacesChanged},r.a.createElement("input",{type:"text",placeholder:"Search location for flyers",className:"Map_Input"})),e.markers.map((function(t,n){return console.log("props",e),r.a.createElement(Q.Marker,{key:n,position:t.position,title:t.name,onClick:function(){e.onPlacesChanged(),e.setOpenFlyerPane(!0)}})})),e.location.allPlaces.map((function(t,n){var a={lat:parseFloat(t.latlng.lat),lng:parseFloat(t.latlng.lng)},l={placeId:t.place_id,formatted_address:t.formattedAddress,name:t.name,latlng:{lat:parseFloat(t.latlng.lat),lng:parseFloat(t.latlng.lng)}};return r.a.createElement(Q.Marker,{key:n,position:a,title:t.name,onClick:function(){e.setSelectedPlace(l),e.setOpenFlyerPane(!0)}})})))})),re=function(e,t){var n=!1;if(0===e.length||!e[0].address_components)return t.setValidPlace(!1),!1;var a,r=Object(J.a)(e[0].address_components);try{for(r.s();!(a=r.n()).done;){"street_number"===a.value.types[0]&&(n=!0)}}catch(l){r.e(l)}finally{r.f()}return n?(t.setValidPlace(!0),!0):(t.setValidPlace(!1),!1)},le=Object(o.b)((function(e){return{location:e.location,flyerRedux:e.flyerRedux}}),{setValidPlace:f.setValidPlace,setSelectedPlace:f.setSelectedPlace,setOpenFlyerPane:f.setOpenFlyerPane,getPlaces:f.getPlaces})(ae),ce=(n(191),n(203)),oe=n(463),ie=Object(o.b)((function(e){return{flyer:e.flyer}}),{deleteFlyer:f.deleteFlyer})((function(e){var t=e.modal,n=e.toggleModal,a=e.flyer,l=e.deleteFlyer;return r.a.createElement(R.a,{isOpen:t,toggle:n},r.a.createElement(I.a,null,r.a.createElement("p",null,"Are you sure you want to delete this flyer?"),a.errors&&function(){if(a.errors)return a.errors.map((function(e,t){return r.a.createElement("p",{key:t,className:"text-danger"},e.message)}))}()),r.a.createElement(oe.a,null,r.a.createElement(v.a,{color:"primary",onClick:function(){l(a.selectedFlyer)}},"Yes")," ",r.a.createElement(v.a,{color:"secondary",onClick:function(){return n(!1)}},"No")))})),se=Object(o.b)((function(e){return{reduxLocation:e.location,flyer:e.flyer}}),{setSelectedPlace:f.setSelectedPlace,setFlyersInit:f.setFlyersInit,setOpenFlyerPane:f.setOpenFlyerPane,setWishToDeleteFlyer:f.setWishToDeleteFlyer})((function(e){var t=e.children,n=e.setSelectedPlace,a=e.setFlyersInit,l=e.setOpenFlyerPane,c=e.setWishToDeleteFlyer,o=e.flyer,i=e.reduxLocation;return r.a.createElement("div",null,r.a.createElement(ce.a,{isOpen:o.openFlyerPane,from:"left",width:te(),title:"".concat(((i||{}).selectedPlace||{}).name||""),shouldCloseOnEsc:!0,onRequestClose:function(){a([]),l(!1),n(null)}},t),r.a.createElement(ie,{modal:o.wishToDeleteFlyer,toggleModal:c}))}));function ue(){var e=Object(u.a)(["\n    height: 80%;\n    min-height: 500px;\n    overflow-y: auto;\n"]);return ue=function(){return e},e}var me=i.c.section(ue()),de=function(e){var t=e.children;return r.a.createElement(me,null,t)},Ee=n(86),pe=n(464),fe=n(118),ge=n(120);function ye(){var e=Object(u.a)(["\n    & .flyer-list-item-wrapper {\n        width: 80%;\n        padding: 20px;\n        border: 1px solid #ccc;\n        border-radius: 5px;\n        margin-bottom: 25px;\n        border-top: 10px solid #FAB156;\n        transition: all .3s;\n    }\n    & .flyer-list-item-wrapper.belongsToUser{\n        animation-name: blueToLightBlue;\n        animation-iteration-count: infinite;\n        animation-duration: 2s;\n    }\n\n    & .flyer-list-item-wrapper:hover {\n        cursor: pointer;\n        box-shadow: 6px 6px 14px 2px rgba(0,0,0,0.75);\n        transform: translateX(6px);\n        border-top: 10px solid #4CAD98;\n    }\n    & .flyer-controls {\n        justify-content: flex-end;\n\n        .btn {\n            margin-left: 10px;\n        }\n    }\n"]);return ye=function(){return e},e}var he=i.c.section(ye()),Se=function(e){var t=e.children;return r.a.createElement(he,null,t)},be=Object(o.b)(null,{setSelectedFlyer:f.setSelectedFlyer,setWishToDeleteFlyer:f.setWishToDeleteFlyer})(Object(p.f)((function(e){var t,n,a=e.flyer,l=e.belongsToUser,c=e.setSelectedFlyer,o=e.setWishToDeleteFlyer,i=e.history;return r.a.createElement(Se,null,r.a.createElement("div",{className:"flyer-list-item-wrapper ".concat(l?"belongsToUser":""),onClick:function(){c(a),i.push("/view-flyer")}},r.a.createElement("h3",null,a.heading),r.a.createElement("p",null,(t=a.description,n=49,t.length>=n?t.slice(0,n)+"...":t)),l&&r.a.createElement(r.a.Fragment,null,r.a.createElement("hr",null),r.a.createElement(pe.a,{className:"flyer-controls"},r.a.createElement(v.a,{color:"warning",size:"sm"},r.a.createElement(fe.a,{icon:ge.a})),r.a.createElement(v.a,{color:"danger",size:"sm",onClick:function(e){e.stopPropagation(),c(a),o(!0)}}," ",r.a.createElement(fe.a,{icon:ge.b})," ")))))}))),_e=Object(o.b)((function(e){return{reduxLocation:e.location,reduxFlyer:e.flyer,user:e.user}}),{getFlyersByPlace:Ee.b})((function(e){var t=e.reduxLocation,n=e.reduxFlyer,l=e.getFlyersByPlace,c=e.user;Object(a.useEffect)((function(){l(t.selectedPlace.placeId)}),[]);var o=function(e){return!(!e.user||ne(c.currentUser)||e.user._id!==c.currentUser._id)};return r.a.createElement(de,null,n.flyers.length>0&&n.flyers.map((function(e,t){return r.a.createElement(be,{flyer:e,belongsToUser:o(e)})})),n.fetchingFlyers&&r.a.createElement(P.a,{color:"success"}),!n.fetchingFlyers&&0===n.flyers.length&&r.a.createElement("p",null,"There are no flyer notices here. Would you like to place one here?"))})),Oe=Object(o.b)((function(e){return{reduxLocation:e.location,flyer:e.flyer,user:e.user}}),{setIpLocation:f.setIpLocation,setSelectedPlace:f.setSelectedPlace,setFlyersInit:f.setFlyersInit,setOpenFlyerPane:f.setOpenFlyerPane})((function(e){var t=Object(a.useState)(!1),n=Object(g.a)(t,2),l=n[0],c=n[1],o=Object(a.useState)(!1),i=Object(g.a)(o,2),s=i[0],u=i[1],m=Object(a.useState)(!1),d=Object(g.a)(m,2),E=d[0],p=d[1];Object(a.useEffect)((function(){!0===s&&(p(!0),navigator.geolocation.getCurrentPosition((function(t){p(!1);var n={lat:t.coords.latitude,lng:t.coords.longitude};e.setIpLocation(n),c(!0),setTimeout((function(){e.setFlyersInit([])}),1e3),e.setSelectedPlace(null)})))}),[s]);return r.a.createElement(H,null,r.a.createElement("div",{className:"MapContainer"},r.a.createElement("div",{className:"BtnControls"},r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){u(!s)},className:"btn btn-info"},s?"Hide":"Show"," Map "," ",E&&r.a.createElement(P.a,{size:"sm",color:"light"}))),r.a.createElement("p",null,Object.keys(e.user.currentUser).length>0?e.user.currentUser.name:"Anonymous User")),!1===e.reduxLocation.validPlace&&r.a.createElement("p",{className:"text-danger"},"Your search is too broad. Please search a business location or address."),l&&s&&r.a.createElement(le,null),r.a.createElement(se,null,r.a.createElement(v.a,{color:"primary",outline:!1,onClick:function(){return e.history.push("/make-flyer")}},"Place flyer here"),r.a.createElement("hr",null),r.a.createElement(_e,null))),r.a.createElement("div",{className:"about"},r.a.createElement("h2",null,"What is Noticely?"),r.a.createElement("hr",null),r.a.createElement("p",null,'Noticely is designed the bring the "age-old" task of "putting up flyers" into the future. It used to be that if you wanted to make notices or spread information, you would have to:'),r.a.createElement("ul",null,r.a.createElement("li",null,"Design flyer and print out many copies."),r.a.createElement("li",null,"Find locations with high foot traffic to place the flyers."),r.a.createElement("li",null,"Physically walk to each location."),r.a.createElement("li",null,"Many times, the location does not have a designated area to place your flyer.")),r.a.createElement("h2",null,"How does Noticely help?"),r.a.createElement("hr",null),r.a.createElement("p",null,"Noticely simplifies this process. "),r.a.createElement("ul",null,r.a.createElement("li",null,"No more wasting paper; the flyers are virtual! "),r.a.createElement("li",null,"Find a location with ease using our map. Simply Search any location."),r.a.createElement("li",null,"Select a location and immediately create a flyer there."),r.a.createElement("li",null,"No more worrying if the place has a designated area for flyers."))))})),Fe=n(12),Le=n.n(Fe),ve=n(28),je=n(15),Re=n.n(je),Ie=Object(o.b)((function(e){return{reduxLocation:e.location,flyer:e.flyer,user:e.user}}),{makeFlyer:f.makeFlyer})((function(e){var t=e.reduxLocation,n=e.flyer,l=e.user,c=e.makeFlyer,o=e.history,i=Object(a.useState)(""),u=Object(g.a)(i,2),m=u[0],d=u[1],E=Object(a.useState)(0),p=Object(g.a)(E,2),f=p[0],y=p[1],h=Object(a.useState)(""),S=Object(g.a)(h,2),b=S[0],_=S[1],O=Object(a.useState)(""),F=Object(g.a)(O,2),L=F[0],R=F[1],I=Object(a.useState)(""),x=Object(g.a)(I,2),N=x[0],w=x[1],G=Object(a.useState)(""),M=Object(g.a)(G,2),B=M[0],q=M[1],W=Object(a.useState)(""),z=Object(g.a)(W,2),V=z[0],H=z[1],J=Object(a.useState)(""),K=Object(g.a)(J,2),Z=K[0],$=K[1],Q=Object(a.useState)(""),X=Object(g.a)(Q,2),ee=X[0],te=X[1],ne=Object(a.useState)({heading:"",description:"",email:"",imgNum:"",img1:"",img2:"",phone:""}),ae=Object(g.a)(ne,2),re=ae[0],le=ae[1],ce=function(){return Object.keys(l.currentUser).length>0},oe=function(){var e=Object(ve.a)(Le.a.mark((function e(t){var n,a;return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.a.post("/graphql",JSON.stringify({query:'\n                        query {\n                            signS3(s3Input: {fileName: "'.concat(t.name,'", fileType: "').concat(t.type,'"}) {\n                                signedRequest,\n                                url\n                            } \n                        }\n                    ')}));case 3:n=e.sent,a=n.data.data.signS3,ie(t,a.signedRequest,a.url),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=Object(ve.a)(Le.a.mark((function e(t,n,a){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{delete Re.a.defaults.headers.common.Authorization,Re()({method:"put",url:n,data:t,headers:{"Content-Type":t.type}}),0===f?_(a):1===f&&R(a),s.a.setSession(l.currentUser.token)}catch(r){console.dir("error",r)}case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){t.selectedPlace||o.push("/")}),[]),Object(a.useEffect)((function(){n.selectedFlyer&&Object.keys(n.selectedFlyer).length>0&&o.push("/view-flyer")}),[n]),r.a.createElement("div",null,r.a.createElement("h2",null,"Make Your Flyer"),r.a.createElement("h5",null,"at ",(t.selectedPlace||{}).name),r.a.createElement(U,null,function(){if(n.errors)return n.errors.map((function(e){return r.a.createElement("p",{className:"text-danger"},e.message)}))}(),r.a.createElement("form",{onSubmit:function(e){console.log("here"),le(Object(j.a)(Object(j.a)({},re),{},{imgNum:""})),e.preventDefault();var n=Object(j.a)({},re);for(var a in n.heading=m.trim().length>100?"Heading must not be more than 100 characters":"",n.description=N.trim().length<3?"Heading must be more than 3 characters":"",n.description=N.trim().length>2e3?"Body must not be more than 2000 characters":"",n.description=N.trim().length<3?"Body must be more than 3 characters":"",n.phone=Z&&ee.trim().length>30?"Phone must be less than 30 characters":"",n.phone=Z&&!/[0-9]/.test(ee)&&"Phone must be all numbers",n.email=V&&"Not a Valid Email"===Y(B)&&"Email is invalid",le(n),console.log(n),n){if("boolean"===typeof n[a]&&!0===n[a])return console.log("false"),console.log(a,n[a]),void console.log("reached here");if("string"===typeof n[a]&&n[a].length>0)return console.log("empty"),console.log(a,n[a]),void console.log("reached here")}var r=[];b&&r.push(b),L&&r.push(L);var l={placeId:t.selectedPlace.placeId,formattedAddress:t.selectedPlace.formatted_address,latlng:t.selectedPlace.latlng,name:t.selectedPlace.name,images:r,heading:m,description:N,phone:Z?ee:"",email:V?B:""};c(l)}},r.a.createElement(A,null,re.heading&&r.a.createElement("p",{className:"text-danger"},re.heading),r.a.createElement(T.a,{for:"heading"},"Flyer Heading"),r.a.createElement(C.a,{type:"text",name:"heading",onChange:function(e){return d(e.target.value)},required:!0})),ce()&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Num of Pics Uploaded: ",f,"/2"),r.a.createElement(A,null,re.imgNum&&r.a.createElement("p",{className:"text-danger"},re.imgNum),r.a.createElement(T.a,{for:"img"},"Upload Image"),r.a.createElement(C.a,{type:"file",name:"img",id:"flyerImg",onChange:function(e){return function(e){if(console.dir(e.target.value),0===f)if(le(Object(j.a)(Object(j.a)({},re),{},{img1:""})),D(e.target.value)){if(y(1),null!==e.target.files){var t=e.target.files[0];oe(t)}}else le(Object(j.a)(Object(j.a)({},re),{},{img1:"Wrong File Type"}));else if(1===f)if(le(Object(j.a)(Object(j.a)({},re),{},{img2:""})),D(e.target.value)){if(y(2),null!==e.target.files){var n=e.target.files[0];oe(n)}}else le(Object(j.a)(Object(j.a)({},re),{},{img2:"Wrong File Type"}));else le(Object(j.a)(Object(j.a)({},re),{},{imgNum:"Max of 2 images. This current image was not uploaded."}))}(e)}}))),r.a.createElement(A,null,re.description&&r.a.createElement("p",{className:"text-danger"},re.description),r.a.createElement(T.a,{for:"description"},"Body",ce()?"":"*"),r.a.createElement(C.a,{type:"textarea",name:"description",onChange:function(e){return w(e.target.value)},required:!0})),ce()?r.a.createElement(r.a.Fragment,null,r.a.createElement(A,null,r.a.createElement(T.a,{for:"img"},"Ways to Contact You"),r.a.createElement(k,null,r.a.createElement("div",{className:"CheckBoxItem"},r.a.createElement(C.a,{type:"checkbox",value:"email",onChange:function(e){return H(""==V?e.target.value:"")}})," ","Email ","|"),r.a.createElement("div",{className:"CheckBoxItem"},r.a.createElement(C.a,{type:"checkbox",value:"addPhone",onChange:function(e){return $(""==Z?e.target.value:"")}})," "," Phone"))),V&&r.a.createElement(A,null,r.a.createElement(T.a,{for:"email"},"Email "),re.email&&r.a.createElement("p",{className:"text-danger"},re.email),r.a.createElement(C.a,{type:"email",name:"email",onChange:function(e){return q(e.target.value)}})),Z&&r.a.createElement(A,null,r.a.createElement(T.a,{for:"phone"},"Phone"),re.phone&&r.a.createElement("p",{className:"text-danger"},re.phone),r.a.createElement(C.a,{type:"tel",name:"phone",onChange:function(e){return te(e.target.value)}}))):r.a.createElement(r.a.Fragment,null,r.a.createElement("cite",{className:"text-muted d-block"},"*Anonymous users must put their contact info in the body."),r.a.createElement("cite",{className:"text-muted d-block"},"SignIn/Register to have more options for your flyers.")),r.a.createElement(v.a,{type:"submit",color:"primary",outline:!1,disabled:!!n.makingFlyer},n.makingFlyer?r.a.createElement(P.a,{color:"light"}):"Make Flyer"))))})),Te=n(205),Ce=n.n(Te);function Pe(){var e=Object(u.a)(["\n    & .flyer-page {\n        margin-top: 20px;\n        min-height: 400px;\n        border: 1px solid #8492a6;\n        padding: 1rem;\n        box-shadow: 6px 6px 14px 2px rgba(0,0,0,0.75);\n\n        &__body {\n            white-space: pre-wrap;\n            word-break: break-word;\n        }\n    }\n\n"]);return Pe=function(){return e},e}var xe=i.c.section(Pe()),Ne=function(e){var t=e.children;return r.a.createElement(xe,null,t)};function we(){var e=Object(u.a)(["\n    & .photo-view__images {\n        display: flex;\n        width: 100%;\n        flex-wrap: wrap;\n\n        figure {\n            max-width: 50px;\n            max-height: 50px;\n            margin-right: 10px;\n            cursor: pointer;\n            transition: all .3s;\n\n            img {\n                width: 100%;\n            }\n        }\n        figure:hover {\n            transform: scale(1.05);\n        }\n    }\n    \n    & .photo-view__display {\n        figure {\n            max-width: 200px;\n            max-height: 200px;\n            img {\n                width: 100%;\n            }\n        }\n    }\n"]);return we=function(){return e},e}var Ue=i.c.section(we()),Ae=function(e){var t=e.children;return r.a.createElement(Ue,null,t)},ke=function(e){var t=e.images,n=Object(a.useState)(""),l=Object(g.a)(n,2),c=l[0],o=l[1];return r.a.createElement(Ae,null,r.a.createElement("div",{className:"photo-view__images"},t.map((function(e,t){return r.a.createElement("figure",{key:t,onClick:function(){return o(e)}},r.a.createElement("img",{src:e}))}))),r.a.createElement("div",{className:"photo-view__display"},c?r.a.createElement("figure",null,r.a.createElement("img",{src:c})):null))},Ye=Object(o.b)((function(e){return{flyer:e.flyer}}))((function(e){var t=e.flyer,n=e.history,l=t.selectedFlyer;l=l||{},Object(a.useEffect)((function(){0===Object.keys(l).length&&n.push("/")}),[]);return Object.keys(l).length>0?r.a.createElement(Ne,null,r.a.createElement("h2",null,"Flyer Notification"),r.a.createElement("div",{className:"flyer-page"},r.a.createElement("h3",null,l.heading),r.a.createElement("hr",null),r.a.createElement("cite",{className:"text-muted"},"Posted by: ",l.user?l.user.name:"Anonymous"," on ",Ce.a.unix(l.createdAt/1e3).format("MM/DD/YY")),r.a.createElement(ke,{images:l.images||[],editable:!1}),r.a.createElement("div",{className:"flyer-page__body"},l.description),Object.keys(l.contact).length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("hr",null),r.a.createElement("h5",null,"Contact Info"),l.contact.email&&r.a.createElement("p",null,"Email: ",l.contact.email),l.contact.phone&&r.a.createElement("p",null,"Phone: ",l.contact.phone)))):r.a.createElement(Ne,null,r.a.createElement("p",null,"loading.."))})),De=Object(o.b)((function(e){return{dummy:e.dummy}}),{getUserInfo:f.getUserInfo})((function(e){var t=e.getUserInfo;return Object(a.useEffect)((function(){s.a.getSession()&&t()}),[]),r.a.createElement("div",{className:"App"},r.a.createElement(W,null),r.a.createElement("div",{className:"container mt-4 mb-4"},r.a.createElement(E.a,null,r.a.createElement(p.c,null,r.a.createElement(p.a,{exact:!0,path:"/",component:Oe}),r.a.createElement(p.a,{exact:!0,path:"/make-flyer",component:Ie}),r.a.createElement(p.a,{exact:!0,path:"/view-flyer",component:Ye})))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ge=n(51),Me=n(206),Be=(n(448),n(4)),qe={isDummy:!1},We={registering:!1,loggingIn:!1,currentUser:{},errors:null},ze={ipLocation:{lat:41.50071,lng:-74.021347},validPlace:null,selectedPlace:null,allPlaces:[],errors:null,gettingPlaces:!1},Ve={openFlyerPane:!1,flyerMade:!1,makingFlyer:!1,fetchingFlyers:!1,flyers:[],selectedFlyer:{},wishToDeleteFlyer:!1,deletingFlyer:!1,errors:null},He=Object(Ge.c)({dummy:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Be.a.DUMMY.ADD_DUMMY:return Object(j.a)(Object(j.a)({},e),{},{isDummy:!0});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Be.a.USER.REGISTER_USER:return Object(j.a)(Object(j.a)({},e),{},{registering:!0});case Be.a.USER.REGISTER_USER_SUCCESS:return Object(j.a)(Object(j.a)({},e),{},{registering:!1,currentUser:t.payload});case Be.a.USER.REGISTER_USER_FAIL:return Object(j.a)(Object(j.a)({},e),{},{registering:!1,errors:t.payload});case Be.a.USER.LOGIN_USER:return Object(j.a)(Object(j.a)({},e),{},{loggingIn:!0});case Be.a.USER.LOGIN_USER_SUCCESS:return Object(j.a)(Object(j.a)({},e),{},{loggingIn:!1,currentUser:t.payload});case Be.a.USER.LOGIN_USER_FAIL:return Object(j.a)(Object(j.a)({},e),{},{loggingIn:!1,errors:t.payload});case Be.a.USER.LOGOUT_USER:return Object(j.a)({},We);default:return e}},location:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Be.a.LOCATION.SET_IP_LOCATION:return Object(j.a)(Object(j.a)({},e),{},{ipLocation:t.payload});case Be.a.LOCATION.SET_VALID_PLACE:return Object(j.a)(Object(j.a)({},e),{},{validPlace:t.payload});case Be.a.LOCATION.SET_SELECTED_PLACE:return Object(j.a)(Object(j.a)({},e),{},{selectedPlace:t.payload});case Be.a.LOCATION.GET_PLACES:return Object(j.a)(Object(j.a)({},e),{},{gettingPlaces:!0});case Be.a.LOCATION.GET_PLACES_SUCCESS:return Object(j.a)(Object(j.a)({},e),{},{gettingPlaces:!1,allPlaces:t.payload});case Be.a.LOCATION.GET_PLACES_ERROR:return Object(j.a)(Object(j.a)({},e),{},{gettingPlaces:!1,errors:t.payload});default:return e}},flyer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Be.a.FLYER.SET_FLYERS:return Object(j.a)(Object(j.a)({},e),{},{fetchingFlyers:!0});case Be.a.FLYER.SET_FLYERS_SUCCESS:return Object(j.a)(Object(j.a)({},e),{},{flyers:t.payload,fetchingFlyers:!1,errors:null});case Be.a.FLYER.SET_FLYERS_FAIL:return Object(j.a)(Object(j.a)({},e),{},{fetchingFlyers:!1,errors:t.payload});case Be.a.FLYER.OPEN_FLYER_PANE:return Object(j.a)(Object(j.a)({},e),{},{openFlyerPane:t.payload});case Be.a.FLYER.SET_MAKING_FLYER:return Object(j.a)(Object(j.a)({},e),{},{makingFlyer:!0});case Be.a.FLYER.SET_MAKING_FLYER_SUCCESS:return Object(j.a)(Object(j.a)({},e),{},{makingFlyer:!1,flyerMade:!0,selectedFlyer:t.payload,errors:null});case Be.a.FLYER.SET_MAKING_FLYER_FAIL:return Object(j.a)(Object(j.a)({},e),{},{makingFlyer:!1,flyerMade:!1,errors:t.payload});case Be.a.FLYER.SET_SELECTED_FLYER:return Object(j.a)(Object(j.a)({},e),{},{selectedFlyer:t.payload});case Be.a.FLYER.SET_WISH_TO_DELETE_FLYER:return Object(j.a)(Object(j.a)({},e),{},{wishToDeleteFlyer:t.payload});case Be.a.FLYER.SET_DELETING_FLYER:return Object(j.a)(Object(j.a)({},e),{},{deletingFlyer:t.payload});case Be.a.FLYER.SET_DELETING_FLYER_SUCCESS:return Object(j.a)(Object(j.a)({},e),{},{deletingFlyer:!1});case Be.a.FLYER.SET_DELETING_FLYER_FAIL:return Object(j.a)(Object(j.a)({},e),{},{deletingFlyer:!1,errors:t.payload});default:return e}}}),Je=[Me.a],Ke=Ge.a.apply(void 0,Je)(Ge.d)(He);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(o.a,{store:Ke},r.a.createElement(i.a,{theme:{colors:{logo:"#FAB156",blue:"#2A3DAD",blueLight:"#4863FA",green:"#4CAD98",greenLight:"#61FAD9",white:"#FFFFFF",textPrimary:"#060d46",textSecondary:"#8492a6"},spacers:{},mediaQueries:{below425:"only screen and (max-width: 425px)",below768:"only screen and (max-width: 768px)",below1024:"only screen and (max-width: 1024px)",below1440:"only screen and (max-width: 1440px)"}}},r.a.createElement(d,null),r.a.createElement(De,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},86:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return m})),n.d(t,"b",(function(){return d})),n.d(t,"f",(function(){return E})),n.d(t,"g",(function(){return p})),n.d(t,"a",(function(){return f}));var a=n(12),r=n.n(a),l=n(28),c=n(4),o=n(15),i=n.n(o),s=function(e){return function(){var t=Object(l.a)(r.a.mark((function t(n){var a,l;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:c.a.FLYER.SET_MAKING_FLYER,payload:!0}),t.prev=1,t.next=4,i.a.post("/graphql",JSON.stringify({query:'\n                        mutation {\n                            makeFlyer(flyerInput: {\n                                placeId: "'.concat(e.placeId,'", formattedAddress: "').concat(e.formattedAddress,'" , \n                                latlng: {lat:"').concat(e.latlng.lat,'", lng: "').concat(e.latlng.lng,'"},\n                                name: "').concat(e.name,'", heading: "').concat(e.heading,'", \n                                description: """').concat(e.description,'""", images: "').concat(e.images,'",\n                                contact: {phone:"').concat(e.phone,'", email: "').concat(e.email,'"}\n                            }) {\n                                _id\n                                placeId\n                                user {\n                                  _id\n                                  name\n                                  email\n                                }\n                                images\n                                heading\n                                description\n                                contact {\n                                  phone\n                                  email\n                                }\n                                createdAt\n                                updatedAt\n                            }\n                        } \n                    ')}));case 4:a=t.sent,l=a.data.data.makeFlyer,n({type:c.a.FLYER.SET_MAKING_FLYER_SUCCESS,payload:l}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n({type:c.a.FLYER.SET_MAKING_FLYER_FAIL,payload:t.t0.response.data.errors});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},u=function(e){return{type:c.a.FLYER.OPEN_FLYER_PANE,payload:e}},m=function(e){return{type:c.a.FLYER.SET_FLYERS_SUCCESS,payload:e}},d=function(e){return function(){var t=Object(l.a)(r.a.mark((function t(n){var a,l;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:c.a.FLYER.SET_FLYERS}),t.prev=1,t.next=4,i.a.post("graphql",JSON.stringify({query:'\n          query {\n            getFlyersByPlace(flyersByPlaceInput: {place_id: "'.concat(e,'"}) {\n              _id\n              placeId \n              user {\n                _id\n                name\n                email\n              }\n              heading\n              description\n              images\n              contact {\n                phone\n                email\n              }\n              createdAt\n              updatedAt\n            }\n          }\n        ')}));case 4:a=t.sent,l=a.data.data.getFlyersByPlace,n({type:c.a.FLYER.SET_FLYERS_SUCCESS,payload:l}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n({type:c.a.FLYER.SET_FLYERS_FAIL,payload:t.t0.response.data.errors});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},E=function(e){return{type:c.a.FLYER.SET_SELECTED_FLYER,payload:e}},p=function(e){return{type:c.a.FLYER.SET_WISH_TO_DELETE_FLYER,payload:e}},f=function(e){return function(){var t=Object(l.a)(r.a.mark((function t(n){var a,l;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:c.a.FLYER.SET_DELETING_FLYER,payload:!0}),t.prev=1,t.next=4,i.a.post("graphql",JSON.stringify({query:'\n          mutation {\n            deleteFlyer(flyerId:"'.concat(e._id,'") {\n              _id\n              placeId \n              user {\n                _id\n                name\n                email\n              }\n              heading\n              description\n              images\n              contact {\n                phone\n                email\n              }\n              createdAt\n              updatedAt\n            }\n          }\n        ')}));case 4:a=t.sent,l=a.data.data.deleteFlyer,n({type:c.a.FLYER.SET_DELETING_FLYER_SUCCESS,payload:l}),n({type:c.a.FLYER.SET_WISH_TO_DELETE_FLYER,payload:!1}),n({type:c.a.FLYER.OPEN_FLYER_PANE,payload:!1}),n({type:c.a.FLYER.SET_SELECTED_FLYER,payload:{}}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),n({type:c.a.FLYER.SET_DELETING_FLYER_FAIL,payload:t.t0.response.data.errors});case 15:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}()}},9:function(e,t,n){"use strict";var a=n(133);n.o(a,"deleteFlyer")&&n.d(t,"deleteFlyer",(function(){return a.deleteFlyer})),n.o(a,"getPlaces")&&n.d(t,"getPlaces",(function(){return a.getPlaces})),n.o(a,"getUserInfo")&&n.d(t,"getUserInfo",(function(){return a.getUserInfo})),n.o(a,"loginUser")&&n.d(t,"loginUser",(function(){return a.loginUser})),n.o(a,"logoutUser")&&n.d(t,"logoutUser",(function(){return a.logoutUser})),n.o(a,"makeFlyer")&&n.d(t,"makeFlyer",(function(){return a.makeFlyer})),n.o(a,"registerUser")&&n.d(t,"registerUser",(function(){return a.registerUser})),n.o(a,"setFlyersInit")&&n.d(t,"setFlyersInit",(function(){return a.setFlyersInit})),n.o(a,"setIpLocation")&&n.d(t,"setIpLocation",(function(){return a.setIpLocation})),n.o(a,"setOpenFlyerPane")&&n.d(t,"setOpenFlyerPane",(function(){return a.setOpenFlyerPane})),n.o(a,"setSelectedFlyer")&&n.d(t,"setSelectedFlyer",(function(){return a.setSelectedFlyer})),n.o(a,"setSelectedPlace")&&n.d(t,"setSelectedPlace",(function(){return a.setSelectedPlace})),n.o(a,"setValidPlace")&&n.d(t,"setValidPlace",(function(){return a.setValidPlace})),n.o(a,"setWishToDeleteFlyer")&&n.d(t,"setWishToDeleteFlyer",(function(){return a.setWishToDeleteFlyer}));n(134);var r=n(135);n.d(t,"getUserInfo",(function(){return r.a})),n.d(t,"loginUser",(function(){return r.b})),n.d(t,"logoutUser",(function(){return r.c})),n.d(t,"registerUser",(function(){return r.d}));var l=n(136);n.d(t,"getPlaces",(function(){return l.a})),n.d(t,"setIpLocation",(function(){return l.b})),n.d(t,"setSelectedPlace",(function(){return l.c})),n.d(t,"setValidPlace",(function(){return l.d}));var c=n(86);n.d(t,"deleteFlyer",(function(){return c.a})),n.d(t,"makeFlyer",(function(){return c.c})),n.d(t,"setFlyersInit",(function(){return c.d})),n.d(t,"setOpenFlyerPane",(function(){return c.e})),n.d(t,"setSelectedFlyer",(function(){return c.f})),n.d(t,"setWishToDeleteFlyer",(function(){return c.g}))}},[[207,1,2]]]);
//# sourceMappingURL=main.d42b73a5.chunk.js.map